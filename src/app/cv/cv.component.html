<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">

<!-- Ventana Modal -->
<div *ngIf="showModal" class="modal-overlay">
  <div class="modal-container">
    <div class="modal-header">
      <h2>üéâ ¬°Bienvenido a mi Portafolio! üéâ</h2>
      <button class="close-btn" (click)="closeModal()">&times;</button>
    </div>
    <div class="modal-body">
      <div class="confetti-container"></div> <!-- Contenedor de confeti -->
      <p>Soy Darley A. Evangelista Saavedra, Ingeniero de Sistemas apasionado por la tecnolog√≠a 
        y el desarrollo de soluciones innovadoras. Puedes explorar mi experiencia, habilidades 
        y formaci√≥n profesional. ¬°Gracias por tu visita!
        ¬°Espero que te guste mi trabajo! üöÄ</p>
    </div>
    <div class="modal-footer">
      <button class="primary-btn" (click)="closeModal()">Entendido</button>
    </div>
  </div>
</div>


<!-- Secci√≥n Sobre M√≠ -->
<div class="about-me">
  <div class="about-image">
    <img src="assets/daes_foto.jpg" alt="Darley Evangelista">
  </div>
  <div class="about-text">
    <h2>Darley Evangelista</h2>
    <p>
      Soy analista de sistemas y desarrollador web, apasionado por crear soluciones innovadoras que optimicen procesos y potencien la transformaci√≥n digital.
      <span *ngIf="!showMore">
        ... <a (click)="toggleShowMore()" class="toggle-text">Ver m√°s</a>
      </span>
      <span *ngIf="showMore">
        Con una s√≥lida formaci√≥n en ingenier√≠a de sistemas, he acumulado experiencia en el desarrollo de aplicaciones, an√°lisis de sistemas y gesti√≥n de proyectos tecnol√≥gicos. Me destaco por mi capacidad para resolver problemas complejos, trabajar en equipo y adaptarme r√°pidamente a nuevos retos y tecnolog√≠as.
        <a (click)="toggleShowMore()" class="toggle-text">Ver menos</a>
      </span>
      <!-- Bot√≥n para abrir la ventana modal -->
      <button class="open-modal-btn" (click)="abrirModal()">Ver CV</button>
    </p>
  </div>
</div>



<!-- Galer√≠a de GIFs -->
<div class="gif-gallery">
  <h3>TECNOLOGIAS Y HERRAMIENTAS DE TRABAJO</h3>
  <img src="assets/sqlserver.png" alt="Base de Datos SQL SERVER" title="Base de Datos SQL SERVER">
  <img src="assets/gif_dev.gif" alt="Desarrollador" title="Desarrollador">
  <img src="assets/icons8-sql-64.png" alt="TRANSACT SQL" title="TRANSACT SQL">
  <img src="assets/gif_js.gif" alt="JavaScript" title="JavaScript">
  <img src="assets/estudio-visual.png" alt="Visual Studio" title="Visual Studio">
  <img src="assets/gif_linux.gif" alt="Linux"  title="Linux">
  <img src="assets/html5_2.png" alt="HTML5" title="HTML5">
  <img src="assets/gif_bd.gif" alt="Gesti√≥n de Base de Datos" title="Gesti√≥n de Base de Datos">
  <img src="assets/gif_git.gif" alt="GitHub" title="GitHub">
  <img src="assets/icons8-mysql-48.png" alt="Gesti√≥n de Base de Datos MySQL" title="Gesti√≥n de Base de Datos MySQL">
  <img src="assets/net-framework.png" alt=".NET" title=".NET">
  <img src="assets/gif_graficos.gif" alt="Analisis de Datos" title="Analisis de Datos">
  <img src="assets/gif_html.gif" alt="HTML5" title="HTML5">
  <img src="assets/visual_studio_code.png" alt="Visual Studio Code" title="Visual Studio Code">
  <!-- Agrega m√°s im√°genes seg√∫n necesites -->
</div>


<!-- Secci√≥n de L√≠nea de Tiempo -->
<div class="timeline-container">
  <h2>MI EXPERIENCIA EN UNA LINEA DE TIEMPO</h2>
  <!-- Contenedor para permitir el desplazamiento horizontal -->
  <div class="timeline-wrapper">
    <!-- A√±adimos el evento mousemove aqu√≠ para capturar el movimiento sobre toda la l√≠nea -->
    <div class="timeline" (mousemove)="onMouseMove($event)" [style.width]="calculateTimelineDynamicWidth() + 'px'">
      <div class="timeline-track"></div>
      <!-- Puntos en cada a√±o -->
      <div *ngFor="let job of experiencia_carrito"
           class="timeline-point"
           [style.left]="calculateLabelPosition(job) + 'px'">
      </div>
      <!-- Carrito -->
      <div class="timeline-car" [style.left]="carPosition + 'px'">
        <img src="assets/carrito.gif" alt="Carrito">
      </div>
    </div>
  </div>
  <!-- Etiquetas con A√±o, Cargo y Empresa (AHORA DEBAJO DEL PUNTO) -->
  <div class="timeline-labels">
    <div *ngFor="let job of experiencia_carrito"
         class="label"
         [style.left]="calculateLabelPosition(job) + 'px'"
         [style.top]="'30px'"> <!-- Ajustamos la posici√≥n debajo del punto -->
      <span class="year">{{ job.fecha }}</span>
      <span class="position">{{ job.cargo }}</span>
      <span class="company">{{ job.descripcion }}</span>
    </div>
  </div>
</div>


<!-- Ventana Modal -->
<div class="modal-overlay" *ngIf="modalOpen">
  <div class="modal-content">
    <button class="close-modal-btn" (click)="cerrarModal()">‚úñ</button>

    <!-- Contenido del CV dentro del modal -->
    <div class="language-switcher">
      <button class="lang-btn es" (click)="toggleLanguage('es')">
        <img src="https://flagcdn.com/w40/es.png" alt="ES"> Espa√±ol
      </button> 
      <button class="lang-btn en" (click)="toggleLanguage('en')">
        <img src="https://flagcdn.com/w40/gb.png" alt="EN"> English
      </button>
    </div>

    <div #cv id="cv" class="cv-container" [class.flip]="flipping">
      <div *ngIf="language === 'es'" class="cv-content">
        <div class="cv-layout">
          <div class="left-panel">
            <div class="profile">
              <img src="assets/daes_foto.jpg" alt="Foto de perfil">
              <h2>DARLEY A. EVANGELISTA SAAVEDRA</h2>
              <p>Desarrollador, Analista de datos y redes</p>
              <p>CIP: 311074</p>
              <p>ING. DE SISTEMAS</p>
            </div>
            <div class="Object">
              <h3>OBJETIVO</h3>
              <p>Ingeniero de Sistemas titulado con s√≥lidos conocimientos en desarrollo de software, bases de datos y gesti√≥n de proyectos tecnol√≥gicos...</p>
            </div>
            <div class="contact">
              <h3>CONTACTO</h3>
              <p>üìû {{ contacto.telefono }}</p>
              <p>
                <img src="https://cdn-icons-png.flaticon.com/512/281/281769.png" 
                     alt="Gmail" width="11" height="12">
                {{ contacto.email }}
              </p>
              <p>üîó <a href="{{ contacto.linkedin }}" target="_blank" style="color: #0077b5; text-decoration: none;">LinkedIn</a></p>
              <p>üìç {{ contacto.direccion }}</p>
            </div>
            <div id="educacion" class="education">
              <h3>EDUCACI√ìN</h3>
              <ul>
                <li *ngFor="let edu of educacion">{{ edu }}</li>
              </ul>
            </div>
            <div class="skills">
              <h3>HABILIDADES</h3>
              <ul>
                <li *ngFor="let habilidad of habilidades">{{ habilidad }}</li>
              </ul>
            </div>
          </div>
          
          <div class="right-panel">
            <div id="experiencia">
              <h2>EXPERIENCIA</h2>
              <div *ngFor="let job of experiencia" class="job">
                <p class="cargo-fecha">
                  <strong class="cargo cargo-ul">{{ job.cargo }}</strong>  
                  <span class="fecha">{{ job.fecha }}</span>
                </p>
                <p class="empresa">{{ job.empresa }}</p>
                <ul class="detalles-ul">
                  <li *ngFor="let detalle of job.detalles">{{ detalle }}</li>
                </ul>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Versi√≥n en ingl√©s -->
      <div *ngIf="language === 'en'">
        <div class="cv-layout">
          <div class="left-panel">
            <div class="profile">
              <img src="assets/daes_foto.jpg" alt="Foto de perfil">
              <h2>DARLEY A. EVANGELISTA SAAVEDRA</h2>
              <p>Developer, Data and Network Analyst</p>
              <p>CIP: 311074</p>
              <p>Systems Engineer</p>
            </div>
            <div class="Object">
              <h3>OBJECTIVE</h3>
              <p>Degree in Systems Engineering with solid knowledge in software development, databases and technology project management...</p>
            </div>
            <div id="educacion" class="education">
              <h3>EDUCATION</h3>
              <ul>
                <li *ngFor="let edu of educacionEn">{{ edu }}</li>
              </ul>
            </div>
            <div class="skills">
              <h3>SKILLS</h3>
              <ul>
                <li *ngFor="let habilidadEn of habilidadesEn">{{ habilidadEn }}</li>
              </ul>
            </div>
          </div>
          
          <div class="right-panel">
            <div id="experiencia">
              <h2>EXPERIENCE</h2>
              <div *ngFor="let job of experienciaEn" class="job">
                <p class="cargo-fecha">
                  <strong class="cargo cargo-ul">{{ job.position }}</strong>  
                  <span class="fecha">{{ job.date }}</span>
                </p>
                <p class="empresa">{{ job.company }}</p>
                <ul class="detalles-ul">
                  <li *ngFor="let details of job.details">{{ details }}</li>
                </ul>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <button (click)="descargarPDF()">Descargar CV</button>
  </div>
</div>


<style>
.cv-layout {
  display: flex;
}
.left-panel {
  width: 35%;
}
.right-panel {
  width: 65%;
}
</style>